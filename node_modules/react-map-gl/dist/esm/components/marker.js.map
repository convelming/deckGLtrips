{"version":3,"sources":["../../../src/components/marker.js"],"names":["createElement","PropTypes","BaseControl","propTypes","Object","assign","className","string","longitude","number","isRequired","latitude","offsetLeft","offsetTop","defaultProps","Marker","props","context","viewport","project","x","y","ref","_onContainerLoad","style","position","left","top","children","displayName"],"mappings":"i2EAmBA,OAAQA,aAAR,KAA4B,OAA5B,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,C,GAEMC,CAAAA,SAAS,CAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBH,WAAW,CAACC,SAA9B,CAAyC,CAEzDG,SAAS,CAAEL,SAAS,CAACM,MAFoC,CAIzDC,SAAS,CAAEP,SAAS,CAACQ,MAAV,CAAiBC,UAJ6B,CAMzDC,QAAQ,CAAEV,SAAS,CAACQ,MAAV,CAAiBC,UAN8B,CAQzDE,UAAU,CAAEX,SAAS,CAACQ,MARmC,CAUzDI,SAAS,CAAEZ,SAAS,CAACQ,MAVoC,CAAzC,C,CAaZK,YAAY,CAAGV,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBH,WAAW,CAACY,YAA9B,CAA4C,CAC/DR,SAAS,CAAE,EADoD,CAE/DM,UAAU,CAAE,CAFmD,CAG/DC,SAAS,CAAE,CAHoD,CAA5C,C,CAaAE,M,uRAEV,iBACyD,KAAKC,KAD9D,CACAV,SADA,aACAA,SADA,CACWE,SADX,aACWA,SADX,CACsBG,QADtB,aACsBA,QADtB,CACgCC,UADhC,aACgCA,UADhC,CAC4CC,SAD5C,aAC4CA,SAD5C,uBAGQ,KAAKI,OAAL,CAAaC,QAAb,CAAsBC,OAAtB,CAA8B,CAACX,SAAD,CAAYG,QAAZ,CAA9B,CAHR,gEAGAS,CAHA,2BAGGC,CAHH,2BAUP,MAAOrB,CAAAA,aAAa,CAAC,KAAD,CAAQ,CAC1BM,SAAS,2BAAqBA,SAArB,CADiB,CAE1BgB,GAAG,CAAE,KAAKC,gBAFgB,CAG1BC,KAAK,CATgB,CACrBC,QAAQ,CAAE,UADW,CAErBC,IAAI,CAAEN,CAAC,CAAGR,UAFW,CAGrBe,GAAG,CAAEN,CAAC,CAAGR,SAHY,CAMK,CAI1Be,QAAQ,CAAE,KAAKZ,KAAL,CAAWY,QAJK,CAAR,CAMrB,C,YAlBiC1B,W,SAAfa,M,aAsBrBA,MAAM,CAACc,WAAP,CAAqB,Q,CACrBd,MAAM,CAACZ,SAAP,CAAmBA,S,CACnBY,MAAM,CAACD,YAAP,CAAsBA,Y","sourcesContent":["// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport {createElement} from 'react';\nimport PropTypes from 'prop-types';\nimport BaseControl from './base-control';\n\nconst propTypes = Object.assign({}, BaseControl.propTypes, {\n  // Custom className\n  className: PropTypes.string,\n  // Longitude of the anchor point\n  longitude: PropTypes.number.isRequired,\n  // Latitude of the anchor point\n  latitude: PropTypes.number.isRequired,\n  // Offset from the left\n  offsetLeft: PropTypes.number,\n  // Offset from the top\n  offsetTop: PropTypes.number\n});\n\nconst defaultProps = Object.assign({}, BaseControl.defaultProps, {\n  className: '',\n  offsetLeft: 0,\n  offsetTop: 0\n});\n\n/*\n * PureComponent doesn't update when context changes.\n * The only way is to implement our own shouldComponentUpdate here. Considering\n * the parent component (StaticMap or InteractiveMap) is pure, and map re-render\n * is almost always triggered by a viewport change, we almost definitely need to\n * recalculate the marker's position when the parent re-renders.\n */\nexport default class Marker extends BaseControl {\n\n  render() {\n    const {className, longitude, latitude, offsetLeft, offsetTop} = this.props;\n\n    const [x, y] = this.context.viewport.project([longitude, latitude]);\n    const containerStyle = {\n      position: 'absolute',\n      left: x + offsetLeft,\n      top: y + offsetTop\n    };\n\n    return createElement('div', {\n      className: `mapboxgl-marker ${className}`,\n      ref: this._onContainerLoad,\n      style: containerStyle,\n      children: this.props.children\n    });\n  }\n\n}\n\nMarker.displayName = 'Marker';\nMarker.propTypes = propTypes;\nMarker.defaultProps = defaultProps;\n"],"file":"marker.js"}