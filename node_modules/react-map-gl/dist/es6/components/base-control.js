import{Component}from"react";import PropTypes from"prop-types";import WebMercatorViewport from"viewport-mercator-project";const propTypes={captureScroll:PropTypes.bool,captureDrag:PropTypes.bool,captureClick:PropTypes.bool,captureDoubleClick:PropTypes.bool},defaultProps={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0},contextTypes={viewport:PropTypes.instanceOf(WebMercatorViewport),isDragging:PropTypes.bool,eventManager:PropTypes.object};export default class BaseControl extends Component{constructor(props){super(props),this._events=null,this._onContainerLoad=this._onContainerLoad.bind(this)}_onContainerLoad(ref){const eventManager=this.context.eventManager;if(!eventManager)return;let events=this._events;events&&(eventManager.off(events),events=null),ref&&(events={wheel:this._onScroll.bind(this),panstart:this._onDrag.bind(this),click:this._onClick.bind(this),dblclick:this._onDoubleClick.bind(this)},eventManager.on(events,ref)),this._events=events}_onScroll(evt){this.props.captureScroll&&evt.stopPropagation()}_onDrag(evt){this.props.captureDrag&&evt.stopPropagation()}_onClick(evt){this.props.captureClick&&evt.stopPropagation()}_onDoubleClick(evt){this.props.captureDoubleClick&&evt.stopPropagation()}render(){return null}}BaseControl.propTypes=propTypes,BaseControl.defaultProps=defaultProps,BaseControl.contextTypes=contextTypes;
//# sourceMappingURL=base-control.js.map