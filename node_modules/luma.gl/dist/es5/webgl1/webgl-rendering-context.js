"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.WebGLRenderingContext = exports.webGLTypesAvailable = exports.headlessTypes = exports.ERR_HEADLESSGL_LOAD = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

// WEBGL BUILT-IN TYPES
// 1) Exports all WebGL constants as {GL}
// 2) Enables app to "import" WebGL types
//    - Importing these types makes them known to eslint etc.
//    - Provides dummy types for WebGL2 when not available to streamline
//      library code.
//    - Exports types from headless gl when running under Node.js

/* eslint-disable quotes, no-console */

/* global console */
var ERR_HEADLESSGL_LOAD = "luma.gl: WebGL contexts can not be created in Node.js since headless gl is not installed. If this is desired, install headless gl using \"npm install gl --save-dev\" or \"yarn add -D gl\""; // Load headless gl dynamically, if available

exports.ERR_HEADLESSGL_LOAD = ERR_HEADLESSGL_LOAD;
var headlessTypes = null;
exports.headlessTypes = headlessTypes;

if (module.require) {
  try {
    exports.headlessTypes = headlessTypes = module.require('gl/wrap');
  } catch (error) {
    console.info(ERR_HEADLESSGL_LOAD);
  }
}

var DummyType = function DummyType() {
  (0, _classCallCheck2.default)(this, DummyType);
};
/* global window, global */


var global_ = typeof global !== 'undefined' ? global : window;

var _ref = headlessTypes || global_,
    _ref$WebGLRenderingCo = _ref.WebGLRenderingContext,
    WebGLRenderingContext = _ref$WebGLRenderingCo === void 0 ? DummyType : _ref$WebGLRenderingCo;

exports.WebGLRenderingContext = WebGLRenderingContext;
var webGLTypesAvailable = WebGLRenderingContext !== DummyType;
exports.webGLTypesAvailable = webGLTypesAvailable;
//# sourceMappingURL=webgl-rendering-context.js.map